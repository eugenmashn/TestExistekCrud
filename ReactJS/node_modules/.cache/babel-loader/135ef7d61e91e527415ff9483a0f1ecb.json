{"ast":null,"code":"import { set_Post, set_Loading } from \"../redux/Post/actionsPost\";\nimport urlApi from './UrlRequest';\nexport const GetPosts = page => async dispatch => {\n  try {\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      },\n      body: JSON.stringify({\n        \"filter\": [{}],\n        \"sort\": {},\n        \"page\": page,\n        \"numberItem\": 10\n      })\n    };\n    debugger;\n    fetch(urlApi + '/Posts/GetPosts', requestOptions).then(res => res.json()).then(data => {\n      dispatch(set_Post(data));\n      dispatch(set_Loading(true));\n    }).catch(e => {\n      console.log(e);\n    });\n  } catch {\n    dispatch(set_Loading(false));\n    console.log('Error!');\n  }\n};\nexport const GetPost = index => async (dispatch) => {\n  try {\n    const requestOptions = {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    };\n    fetch(urlApi + '/post/getById/' + index, requestOptions).then(res => res.json()).then(data => {\n      dispatch(set_Loading(true));\n    }).catch(e => {\n      console.log(e);\n    });\n  } catch {\n    console.log('Error!');\n  }\n};\nexport const DeletePost = post => async (dispatch) => {\n  try {\n    const requestOptions = {\n      method: 'DeLETE',\n      mode: 'cors',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    };\n    fetch(urlApi + '/post/removePost/' + post._id, requestOptions).then(res => res.json()).then(data => {}).catch(e => {\n      console.log(e);\n    });\n  } catch {\n    console.log('Error!');\n  }\n};\nexport const NewPost = (post, author) => async (dispatch) => {\n  try {\n    debugger;\n    post.author = author;\n    post._id = null;\n    post.location = {};\n    post.viewersCount = 0;\n    const requestOptions = {\n      method: 'PUT',\n      mode: 'cors',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      },\n      body: JSON.stringify({ ...post\n      })\n    };\n    debugger;\n    fetch(urlApi + '/post/createPost', requestOptions).then(res => res.json()).then(data => {\n      const res = {\n        data\n      };\n      dispatch(new_Post(res));\n    }).catch(e => {\n      console.log(e);\n    });\n  } catch {\n    dispatch(set_Loading(false));\n    console.log('Error!');\n  }\n};\nexport const EditPost = post => async (dispatch) => {\n  try {\n    try {\n      post.author = \"tesast@mail.com\";\n      post.location = {};\n      const requestOptions = {\n        method: 'patch',\n        mode: 'cors',\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        },\n        body: JSON.stringify({ ...post\n        })\n      };\n      fetch(urlApi + '/post/updatePost', requestOptions).then(res => res.json()).then(data => {\n        const res = {\n          data\n        };\n        dispatch(edit_Post(res));\n      }).catch(e => {\n        console.log(e);\n      });\n    } catch {\n      dispatch(set_Loading(false));\n      console.log('Error!');\n    }\n  } catch {\n    console.log('Error!');\n  }\n};","map":{"version":3,"sources":["D:/Source/TestExistekCrud/ReactJS/src/services/post_services.js"],"names":["set_Post","set_Loading","urlApi","GetPosts","page","dispatch","requestOptions","method","headers","body","JSON","stringify","fetch","then","res","json","data","catch","e","console","log","GetPost","index","mode","DeletePost","post","_id","NewPost","author","location","viewersCount","new_Post","EditPost","edit_Post"],"mappings":"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","sourcesContent":["import { set_Post , set_Loading} from \"../redux/Post/actionsPost\";\r\nimport urlApi from './UrlRequest'\r\n\r\nexport const GetPosts =  (page) => async dispatch=>{ \r\n\r\n    try {\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: { \r\n                \"Content-type\": \"application/json; charset=UTF-8\",\r\n            },\r\n            body: JSON.stringify({\r\n                \"filter\": [\r\n                {\r\n                \r\n                }\r\n              ],\r\n              \"sort\":{\r\n                    },\r\n                \"page\":page,\r\n                \"numberItem\": 10\r\n            })\r\n        };\r\n        debugger;\r\n        fetch(urlApi+'/Posts/GetPosts', requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                dispatch(set_Post(data));\r\n                dispatch(set_Loading(true));\r\n            })\r\n            .catch((e)=>{\r\n                console.log(e);\r\n            });\r\n        } catch{\r\n            dispatch(set_Loading(false));\r\n            console.log('Error!');\r\n        }\r\n    }\r\n\r\n \r\n\r\nexport const GetPost =(index)=> async (dispatch) =>\r\n{\r\n    \r\n    try {\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            mode:'cors',\r\n            headers: { \r\n                \"Content-type\": \"application/json; charset=UTF-8\",\r\n            }\r\n        };\r\n       fetch(urlApi+'/post/getById/'+index, requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                dispatch(set_Loading(true));\r\n            })\r\n            .catch((e)=>{\r\n                \r\n                console.log(e);\r\n            });\r\n        }  catch{\r\n            console.log('Error!');\r\n        }\r\n}\r\n\r\n\r\nexport const DeletePost = (post) => async (dispatch) =>\r\n{\r\n    try {\r\n\r\n        const requestOptions = {\r\n            method: 'DeLETE',\r\n            mode:'cors',\r\n            headers: { \r\n                \"Content-type\": \"application/json; charset=UTF-8\"\r\n            }\r\n        };\r\n       fetch(urlApi+'/post/removePost/' + post._id, requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n            })\r\n            .catch((e)=>{\r\n                console.log(e);\r\n            });\r\n        }   catch{\r\n        console.log('Error!');\r\n    }\r\n}\r\nexport const NewPost =(post,author) => async (dispatch) =>\r\n{\r\n    try {\r\n        debugger;\r\n        post.author= author;\r\n        post._id  = null;\r\n        post.location ={};\r\n        post.viewersCount = 0;\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            mode:'cors',\r\n            headers: { \r\n                \"Content-type\": \"application/json; charset=UTF-8\"\r\n            },\r\n            body: JSON.stringify({...post})\r\n        };\r\n        debugger;\r\n        fetch(urlApi+'/post/createPost', requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                const res = {data};\r\n                dispatch(new_Post(res));\r\n            })\r\n            .catch((e)=>{\r\n                \r\n                console.log(e);\r\n            });\r\n           \r\n        } catch{\r\n        dispatch(set_Loading(false));\r\n        console.log('Error!');\r\n    }\r\n} \r\n\r\nexport const EditPost = (post)=>async (dispatch) =>\r\n{\r\n    try {\r\n        try {\r\n            post.author=\"tesast@mail.com\";\r\n            post.location ={};\r\n            const requestOptions = {\r\n                method: 'patch',\r\n                mode:'cors',\r\n                headers: { \r\n                    \"Content-type\": \"application/json; charset=UTF-8\",\r\n                },\r\n                body: JSON.stringify({\r\n                        ...post\r\n                })\r\n            };\r\n            \r\n            fetch(urlApi+'/post/updatePost', requestOptions)\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    const res = {data};\r\n                    dispatch(edit_Post(res));\r\n                })\r\n                .catch((e)=>{\r\n                    console.log(e);\r\n                });\r\n               \r\n            } catch{\r\n            dispatch(set_Loading(false));\r\n            console.log('Error!');\r\n        }\r\n    } catch{\r\n        console.log('Error!');\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}