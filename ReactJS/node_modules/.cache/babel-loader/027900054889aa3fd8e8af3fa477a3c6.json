{"ast":null,"code":"import { setUser } from './../redux/User/userActions';\nexport const fetchUser = userInfo => dispatch => {\n  try {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      },\n      body: JSON.stringify(userInfo)\n    };\n    fetch(`http://localhost:3000/login`, requestOptions).then(res => res.json()).then(data => {\n      debugger;\n      localStorage.setItem(\"token\", data.token);\n      dispatch(setUser(data.user));\n    }).catch(e => {\n      console.log(e);\n    });\n  } catch {\n    console.log('Error!');\n  }\n};\nexport const signUserUp = userInfo => dispatch => {\n  try {\n    fetch(`http://localhost:3000/api/users/createNewUser`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(userInfo)\n    }).then(res => res.json()).then(data => {\n      debugger;\n      localStorage.setItem(\"token\", data.token);\n      dispatch(setUser(data.user));\n    }).catch(e => {\n      console.log(e);\n    });\n  } catch {\n    console.log('Error!');\n  }\n};\nexport const autoLogin = () => dispatch => {\n  try {\n    fetch(`http://localhost:3000/auto_login`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    }).then(res => res.json()).then(data => {\n      localStorage.setItem(\"token\", data.token);\n      dispatch(setUser(data.user));\n    }).catch(e => {\n      console.log(e);\n    });\n  } catch {\n    console.log('Error!');\n  }\n};","map":{"version":3,"sources":["D:/Source/Project/ReactJS/src/services/user_services.js"],"names":["setUser","fetchUser","userInfo","dispatch","requestOptions","method","headers","body","JSON","stringify","fetch","then","res","json","data","localStorage","setItem","token","user","catch","e","console","log","signUserUp","autoLogin","getItem"],"mappings":"AAAA,SAAQA,OAAR,QAAsB,6BAAtB;AACA,OAAO,MAAMC,SAAS,GAAIC,QAAD,IAAcC,QAAQ,IAAI;AAC/C,MAAI;AACA,UAAMC,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,MADW;AAEnBC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFU;AAKnBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,QAAf;AALa,KAAvB;AAOAQ,IAAAA,KAAK,CAAE,6BAAF,EAA+BN,cAA/B,CAAL,CACCO,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMG,IAAI,IAAI;AACd;AACIC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,IAAI,CAACG,KAAnC;AACAd,MAAAA,QAAQ,CAACH,OAAO,CAACc,IAAI,CAACI,IAAN,CAAR,CAAR;AACH,KAND,EAOCC,KAPD,CAOQC,CAAD,IAAK;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,KATD;AAUH,GAlBD,CAkBE,MAAK;AAEHC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH;AACJ,CAvBM;AAyBP,OAAO,MAAMC,UAAU,GAAIrB,QAAD,IAAcC,QAAQ,IAAI;AAChD,MAAI;AACAO,IAAAA,KAAK,CAAE,+CAAF,EAAkD;AACnDL,MAAAA,MAAM,EAAE,KAD2C;AAEnDC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,kBAAU;AAFL,OAF0C;AAMnDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,QAAf;AAN6C,KAAlD,CAAL,CAQCS,IARD,CAQMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EARb,EASCF,IATD,CASMG,IAAI,IAAI;AAEV;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,IAAI,CAACG,KAAnC;AACAd,MAAAA,QAAQ,CAACH,OAAO,CAACc,IAAI,CAACI,IAAN,CAAR,CAAR;AACH,KAdD,EAeCC,KAfD,CAeQC,CAAD,IAAK;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,KAjBD;AAkBH,GAnBD,CAmBE,MAAK;AAEHC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH;AACJ,CAxBM;AA0BP,OAAO,MAAME,SAAS,GAAG,MAAMrB,QAAQ,IAAI;AACvC,MAAI;AACAO,IAAAA,KAAK,CAAE,kCAAF,EAAqC;AACtCJ,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,kBAAU,kBAFL;AAGL,yBAAkB,UAASS,YAAY,CAACU,OAAb,CAAqB,OAArB,CAA8B;AAHpD;AAD6B,KAArC,CAAL,CAOCd,IAPD,CAOMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPb,EAQCF,IARD,CAQMG,IAAI,IAAI;AAEVC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,IAAI,CAACG,KAAnC;AACAd,MAAAA,QAAQ,CAACH,OAAO,CAACc,IAAI,CAACI,IAAN,CAAR,CAAR;AACH,KAZD,EAaCC,KAbD,CAaQC,CAAD,IAAK;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,KAfD;AAgBH,GAjBD,CAiBE,MAAK;AAEHC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH;AACJ,CAtBM","sourcesContent":["import {setUser} from './../redux/User/userActions'\r\nexport const fetchUser = (userInfo) => dispatch => {\r\n    try {\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { \r\n                \"Content-type\": \"application/json; charset=UTF-8\"\r\n            },\r\n            body: JSON.stringify(userInfo)\r\n        };\r\n        fetch(`http://localhost:3000/login`,requestOptions)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n        debugger;\r\n            localStorage.setItem(\"token\", data.token)\r\n            dispatch(setUser(data.user))\r\n        })\r\n        .catch((e)=>{\r\n            console.log(e);\r\n        });\r\n    } catch{\r\n        \r\n        console.log('Error!');\r\n    }\r\n}\r\n\r\nexport const signUserUp = (userInfo) => dispatch => {\r\n    try {\r\n        fetch(`http://localhost:3000/api/users/createNewUser`, {\r\n            method: \"PUT\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(userInfo)\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n        \r\n            debugger;\r\n            localStorage.setItem(\"token\", data.token)\r\n            dispatch(setUser(data.user))\r\n        })\r\n        .catch((e)=>{\r\n            console.log(e);\r\n        });\r\n    } catch{\r\n            \r\n        console.log('Error!');\r\n    }\r\n}\r\n\r\nexport const autoLogin = () => dispatch => {\r\n    try {\r\n        fetch(`http://localhost:3000/auto_login`, {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"application/json\",\r\n                \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            \r\n            localStorage.setItem(\"token\", data.token)\r\n            dispatch(setUser(data.user))\r\n        })\r\n        .catch((e)=>{\r\n            console.log(e);\r\n        });\r\n    } catch{\r\n            \r\n        console.log('Error!');\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}