{"ast":null,"code":"import { set_Post, delete_Post, edit_Post, new_Post, set_Loading } from \"../redux/Post/actionsPost\";\nexport const urlApi = 'http://localhost:3000/api';\nexport const GetPosts = () => async dispatch => {\n  try {\n    const requestOptions = {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      },\n      body: JSON.stringify({\n        match: {},\n        sort: {},\n        limit: 10,\n        page: 0\n      })\n    };\n    debugger;\n    fetch(urlApi + '/post/filterPosts', requestOptions).then(res => res.json()).then(data => {\n      debugger;\n      dispatch(set_Post(data));\n      dispatch(set_Loading(true));\n    }).catch(e => {\n      debugger;\n      console.log(e);\n    });\n  } catch {\n    dispatch(set_Loading(false));\n    console.log('Error!');\n  }\n};\nexport const GetPost = index => async (dispatch) => {\n  debugger;\n\n  try {\n    //api call\n    // dispatch(new_Post(response.find( (i)=>{\n    // if(i._id===index)\n    //   return true;\n    // })));\n    dispatch(set_Loading(true));\n  } catch {\n    console.log('Error!');\n  }\n};\nexport const DeletePost = async (dispatch, post) => {\n  try {\n    //api call\n    dispatch(delete_Post(post));\n  } catch {\n    console.log('Error!');\n  }\n};\n_c = DeletePost;\nexport const NewPost = post => async (dispatch) => {\n  try {\n    post.author = \"tesast@mail.com\";\n    post.location = {};\n    const requestOptions = {\n      method: 'PUT',\n      mode: 'cors',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      },\n      body: JSON.stringify({ ...post\n      })\n    };\n    debugger;\n    fetch(urlApi + '/post/createPost', requestOptions).then(res => res.json()).then(data => {\n      debugger;\n      const res = {\n        data\n      };\n      dispatch(new_Post(res));\n    }).catch(e => {\n      debugger;\n      console.log(e);\n    });\n  } catch {\n    dispatch(set_Loading(false));\n    console.log('Error!');\n  }\n};\nexport const EditPost = post => async (dispatch) => {\n  try {\n    //api call\n    try {\n      post.author = \"tesast@mail.com\";\n      post.location = {};\n      const requestOptions = {\n        method: 'PATCH',\n        mode: 'cors',\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        },\n        body: JSON.stringify({ ...post\n        })\n      };\n      debugger;\n      fetch(urlApi + '/post/updatePost', requestOptions).then(res => res.json()).then(data => {\n        debugger;\n        const res = {\n          data\n        };\n        dispatch(edit_Post(res));\n      }).catch(e => {\n        debugger;\n        console.log(e);\n      });\n    } catch {\n      dispatch(set_Loading(false));\n      console.log('Error!');\n    } //const response = {value:post, id:1};\n    // dispatch(edit_Post(response));\n\n  } catch {\n    console.log('Error!');\n  }\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"DeletePost\");","map":{"version":3,"sources":["D:/Source/ClientAppBBB/clientapp/src/services/post_services.js"],"names":["set_Post","delete_Post","edit_Post","new_Post","set_Loading","urlApi","GetPosts","dispatch","requestOptions","method","mode","headers","body","JSON","stringify","match","sort","limit","page","fetch","then","res","json","data","catch","e","console","log","GetPost","index","DeletePost","post","NewPost","author","location","EditPost"],"mappings":"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","sourcesContent":["import { set_Post,delete_Post,edit_Post ,new_Post, set_Loading} from \"../redux/Post/actionsPost\";\r\n\r\n\r\nexport const urlApi = 'http://localhost:3000/api';\r\nexport const GetPosts =  () => async dispatch=>{ \r\n    try {\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            mode:'cors',\r\n            headers: { \r\n                \"Content-type\": \"application/json; charset=UTF-8\",\r\n            },\r\n            body: JSON.stringify({\r\n                    match:{},\r\n                    sort:{},\r\n                    limit: 10,\r\n                    page: 0\r\n                })\r\n        };\r\n        debugger;\r\n        fetch(urlApi+'/post/filterPosts', requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                debugger;\r\n                dispatch(set_Post(data));\r\n                dispatch(set_Loading(true));\r\n            })\r\n            .catch((e)=>{\r\n                debugger;\r\n                console.log(e);\r\n            });\r\n           \r\n            \r\n        } catch{\r\n            dispatch(set_Loading(false));\r\n            console.log('Error!');\r\n        }\r\n    }\r\n\r\n \r\n\r\nexport const GetPost =(index)=> async (dispatch) =>\r\n{\r\n    debugger;\r\n    try {\r\n        //api call\r\n       // dispatch(new_Post(response.find( (i)=>{\r\n           // if(i._id===index)\r\n             //   return true;\r\n       // })));\r\n        dispatch(set_Loading(true));\r\n    } catch{\r\n        console.log('Error!');\r\n    }\r\n}\r\n\r\n\r\nexport const DeletePost = async (dispatch,post) =>\r\n{\r\n    try {\r\n        //api call\r\n        \r\n        dispatch(delete_Post(post));\r\n    } catch{\r\n        console.log('Error!');\r\n    }\r\n}\r\nexport const NewPost =(post) => async (dispatch) =>\r\n{\r\n    try {\r\n        post.author=\"tesast@mail.com\";\r\n        post.location ={};\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            mode:'cors',\r\n            headers: { \r\n                \"Content-type\": \"application/json; charset=UTF-8\",\r\n            },\r\n            body: JSON.stringify({\r\n                    ...post\r\n                })\r\n        };\r\n        debugger;\r\n        fetch(urlApi+'/post/createPost', requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                debugger;\r\n                const res = {data};\r\n                dispatch(new_Post(res));\r\n            })\r\n            .catch((e)=>{\r\n                debugger;\r\n                console.log(e);\r\n            });\r\n           \r\n        } catch{\r\n        dispatch(set_Loading(false));\r\n        console.log('Error!');\r\n    }\r\n        \r\n} \r\n\r\nexport const EditPost = (post)=>async (dispatch) =>\r\n{\r\n    try {\r\n        //api call\r\n        try {\r\n            post.author=\"tesast@mail.com\";\r\n            post.location ={};\r\n            const requestOptions = {\r\n                method: 'PATCH',\r\n                mode:'cors',\r\n                headers: { \r\n                    \"Content-type\": \"application/json; charset=UTF-8\",\r\n                },\r\n                body: JSON.stringify({\r\n                        ...post\r\n                })\r\n            };\r\n            debugger;\r\n            fetch(urlApi+'/post/updatePost', requestOptions)\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    debugger;\r\n                    const res = {data};\r\n                    dispatch(edit_Post(res));\r\n                })\r\n                .catch((e)=>{\r\n                    debugger;\r\n                    console.log(e);\r\n                });\r\n               \r\n            } catch{\r\n            dispatch(set_Loading(false));\r\n            console.log('Error!');\r\n        }\r\n        //const response = {value:post, id:1};\r\n       // dispatch(edit_Post(response));\r\n    } catch{\r\n        console.log('Error!');\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}