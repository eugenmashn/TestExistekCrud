{"ast":null,"code":"import { set_Post, edit_Post, new_Post, set_Loading } from \"../redux/Post/actionsPost\";\nexport const urlApi = 'http://localhost:3000/api';\nexport const GetPosts = page => async dispatch => {\n  try {\n    const requestOptions = {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      },\n      body: JSON.stringify({\n        match: {},\n        sort: {},\n        limit: 10,\n        page: page\n      })\n    };\n    debugger;\n    fetch(urlApi + '/post/filterPosts', requestOptions).then(res => res.json()).then(data => {\n      debugger;\n      dispatch(set_Post(data));\n      dispatch(set_Loading(true));\n    }).catch(e => {\n      console.log(e);\n    });\n  } catch {\n    dispatch(set_Loading(false));\n    console.log('Error!');\n  }\n};\nexport const GetPost = index => async (dispatch) => {\n  try {\n    const requestOptions = {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    };\n    fetch(urlApi + '/post/getById/' + index, requestOptions).then(res => res.json()).then(data => {\n      dispatch(new_Post(data));\n      dispatch(set_Loading(true));\n    }).catch(e => {\n      console.log(e);\n    });\n  } catch {\n    console.log('Error!');\n  }\n};\nexport const DeletePost = post => async (dispatch) => {\n  try {\n    const requestOptions = {\n      method: 'DeLETE',\n      mode: 'cors',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    };\n    fetch(urlApi + '/post/removePost?id=' + post._id, requestOptions).then(res => res.json()).then(data => {}).catch(e => {\n      console.log(e);\n    });\n  } catch {\n    console.log('Error!');\n  }\n};\nexport const NewPost = post => async (dispatch) => {\n  try {\n    post.author = \"tesast@mail.com\";\n    post._id = null;\n    post.location = {};\n    const requestOptions = {\n      method: 'PUT',\n      mode: 'cors',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      },\n      body: JSON.stringify({ ...post\n      })\n    };\n    fetch(urlApi + '/post/createPost', requestOptions).then(res => res.json()).then(data => {\n      const res = {\n        data\n      };\n      dispatch(new_Post(res));\n    }).catch(e => {\n      console.log(e);\n    });\n  } catch {\n    dispatch(set_Loading(false));\n    console.log('Error!');\n  }\n};\nexport const EditPost = post => async (dispatch) => {\n  try {\n    try {\n      post.author = \"tesast@mail.com\";\n      post.location = {};\n      const requestOptions = {\n        method: 'patch',\n        mode: 'cors',\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        },\n        body: JSON.stringify({ ...post\n        })\n      };\n      fetch(urlApi + '/post/updatePost', requestOptions).then(res => res.json()).then(data => {\n        const res = {\n          data\n        };\n        dispatch(edit_Post(res));\n      }).catch(e => {\n        console.log(e);\n      });\n    } catch {\n      dispatch(set_Loading(false));\n      console.log('Error!');\n    }\n  } catch {\n    console.log('Error!');\n  }\n};","map":{"version":3,"sources":["D:/Source/Project/ReactJS/src/services/post_services.js"],"names":["set_Post","edit_Post","new_Post","set_Loading","urlApi","GetPosts","page","dispatch","requestOptions","method","mode","headers","body","JSON","stringify","match","sort","limit","fetch","then","res","json","data","catch","e","console","log","GetPost","index","DeletePost","post","_id","NewPost","author","location","EditPost"],"mappings":"AAAA,SAASA,QAAT,EAAkBC,SAAlB,EAA6BC,QAA7B,EAAuCC,WAAvC,QAAyD,2BAAzD;AAGA,OAAO,MAAMC,MAAM,GAAG,2BAAf;AACP,OAAO,MAAMC,QAAQ,GAAKC,IAAD,IAAU,MAAMC,QAAN,IAAgB;AAE/C,MAAI;AACA,UAAMC,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,MADW;AAEnBC,MAAAA,IAAI,EAAC,MAFc;AAGnBC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAHU;AAMnBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACbC,QAAAA,KAAK,EAAC,EADO;AAEbC,QAAAA,IAAI,EAAC,EAFQ;AAGbC,QAAAA,KAAK,EAAE,EAHM;AAIbX,QAAAA,IAAI,EAAEA;AAJO,OAAf;AANa,KAAvB;AAaA;AACAY,IAAAA,KAAK,CAACd,MAAM,GAAC,mBAAR,EAA6BI,cAA7B,CAAL,CACKW,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUG,IAAI,IAAI;AACV;AACAf,MAAAA,QAAQ,CAACP,QAAQ,CAACsB,IAAD,CAAT,CAAR;AACAf,MAAAA,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR;AACH,KANL,EAOKoB,KAPL,CAOYC,CAAD,IAAK;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,KATL;AAUC,GAzBL,CAyBM,MAAK;AACHjB,IAAAA,QAAQ,CAACJ,WAAW,CAAC,KAAD,CAAZ,CAAR;AACAsB,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH;AACJ,CA/BE;AAmCP,OAAO,MAAMC,OAAO,GAAGC,KAAD,IAAU,OAAOrB,QAAP,KAChC;AAEI,MAAI;AACA,UAAMC,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,KADW;AAEnBC,MAAAA,IAAI,EAAC,MAFc;AAGnBC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAHU,KAAvB;AAODO,IAAAA,KAAK,CAACd,MAAM,GAAC,gBAAP,GAAwBwB,KAAzB,EAAgCpB,cAAhC,CAAL,CACMW,IADN,CACWC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADlB,EAEMF,IAFN,CAEWG,IAAI,IAAI;AACVf,MAAAA,QAAQ,CAACL,QAAQ,CAACoB,IAAD,CAAT,CAAR;AACAf,MAAAA,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR;AACH,KALN,EAMMoB,KANN,CAMaC,CAAD,IAAK;AAERC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,KATN;AAUE,GAlBL,CAkBO,MAAK;AACJC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH;AACR,CAxBM;AA2BP,OAAO,MAAMG,UAAU,GAAIC,IAAD,IAAU,OAAOvB,QAAP,KACpC;AACI,MAAI;AACA,UAAMC,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,QADW;AAEnBC,MAAAA,IAAI,EAAC,MAFc;AAGnBC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAHU,KAAvB;AAODO,IAAAA,KAAK,CAACd,MAAM,GAAC,sBAAP,GAAgC0B,IAAI,CAACC,GAAtC,EAA2CvB,cAA3C,CAAL,CACMW,IADN,CACWC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADlB,EAEMF,IAFN,CAEWG,IAAI,IAAI,CACb,CAHN,EAIMC,KAJN,CAIaC,CAAD,IAAK;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,KANN;AAOE,GAfL,CAeQ,MAAK;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH;AACJ,CApBM;AAqBP,OAAO,MAAMM,OAAO,GAAGF,IAAD,IAAU,OAAOvB,QAAP,KAChC;AACI,MAAI;AACAuB,IAAAA,IAAI,CAACG,MAAL,GAAY,iBAAZ;AACAH,IAAAA,IAAI,CAACC,GAAL,GAAY,IAAZ;AACAD,IAAAA,IAAI,CAACI,QAAL,GAAe,EAAf;AACA,UAAM1B,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,KADW;AAEnBC,MAAAA,IAAI,EAAC,MAFc;AAGnBC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAHU;AAMnBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,EACb,GAAGgB;AADU,OAAf;AANa,KAAvB;AAUAZ,IAAAA,KAAK,CAACd,MAAM,GAAC,kBAAR,EAA4BI,cAA5B,CAAL,CACKW,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUG,IAAI,IAAI;AACV,YAAMF,GAAG,GAAG;AAACE,QAAAA;AAAD,OAAZ;AACAf,MAAAA,QAAQ,CAACL,QAAQ,CAACkB,GAAD,CAAT,CAAR;AACH,KALL,EAMKG,KANL,CAMYC,CAAD,IAAK;AAERC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,KATL;AAWC,GAzBL,CAyBM,MAAK;AACPjB,IAAAA,QAAQ,CAACJ,WAAW,CAAC,KAAD,CAAZ,CAAR;AACAsB,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH;AAEJ,CAhCM;AAkCP,OAAO,MAAMS,QAAQ,GAAIL,IAAD,IAAQ,OAAOvB,QAAP,KAChC;AACI,MAAI;AACA,QAAI;AACAuB,MAAAA,IAAI,CAACG,MAAL,GAAY,iBAAZ;AACAH,MAAAA,IAAI,CAACI,QAAL,GAAe,EAAf;AACA,YAAM1B,cAAc,GAAG;AACnBC,QAAAA,MAAM,EAAE,OADW;AAEnBC,QAAAA,IAAI,EAAC,MAFc;AAGnBC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAHU;AAMnBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,EACb,GAAGgB;AADU,SAAf;AANa,OAAvB;AAWAZ,MAAAA,KAAK,CAACd,MAAM,GAAC,kBAAR,EAA4BI,cAA5B,CAAL,CACKW,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUG,IAAI,IAAI;AACV,cAAMF,GAAG,GAAG;AAACE,UAAAA;AAAD,SAAZ;AACAf,QAAAA,QAAQ,CAACN,SAAS,CAACmB,GAAD,CAAV,CAAR;AACH,OALL,EAMKG,KANL,CAMYC,CAAD,IAAK;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,OARL;AAUC,KAxBL,CAwBM,MAAK;AACPjB,MAAAA,QAAQ,CAACJ,WAAW,CAAC,KAAD,CAAZ,CAAR;AACAsB,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH;AACJ,GA7BD,CA6BE,MAAK;AACHD,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH;AACJ,CAlCM","sourcesContent":["import { set_Post,edit_Post ,new_Post, set_Loading} from \"../redux/Post/actionsPost\";\r\n\r\n\r\nexport const urlApi = 'http://localhost:3000/api';\r\nexport const GetPosts =  (page) => async dispatch=>{ \r\n\r\n    try {\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            mode:'cors',\r\n            headers: { \r\n                \"Content-type\": \"application/json; charset=UTF-8\",\r\n            },\r\n            body: JSON.stringify({\r\n                    match:{},\r\n                    sort:{},\r\n                    limit: 10,\r\n                    page: page\r\n                })\r\n        };\r\n        debugger;\r\n        fetch(urlApi+'/post/filterPosts', requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                debugger;\r\n                dispatch(set_Post(data));\r\n                dispatch(set_Loading(true));\r\n            })\r\n            .catch((e)=>{\r\n                console.log(e);\r\n            });\r\n        } catch{\r\n            dispatch(set_Loading(false));\r\n            console.log('Error!');\r\n        }\r\n    }\r\n\r\n \r\n\r\nexport const GetPost =(index)=> async (dispatch) =>\r\n{\r\n    \r\n    try {\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            mode:'cors',\r\n            headers: { \r\n                \"Content-type\": \"application/json; charset=UTF-8\",\r\n            }\r\n        };\r\n       fetch(urlApi+'/post/getById/'+index, requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                dispatch(new_Post(data)); \r\n                dispatch(set_Loading(true));\r\n            })\r\n            .catch((e)=>{\r\n                \r\n                console.log(e);\r\n            });\r\n        }  catch{\r\n            console.log('Error!');\r\n        }\r\n}\r\n\r\n\r\nexport const DeletePost = (post) => async (dispatch) =>\r\n{\r\n    try {\r\n        const requestOptions = {\r\n            method: 'DeLETE',\r\n            mode:'cors',\r\n            headers: { \r\n                \"Content-type\": \"application/json; charset=UTF-8\",\r\n            }\r\n        };\r\n       fetch(urlApi+'/post/removePost?id=' + post._id, requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n            })\r\n            .catch((e)=>{\r\n                console.log(e);\r\n            });\r\n        }   catch{\r\n        console.log('Error!');\r\n    }\r\n}\r\nexport const NewPost =(post) => async (dispatch) =>\r\n{\r\n    try {\r\n        post.author=\"tesast@mail.com\";\r\n        post._id  = null;\r\n        post.location ={};\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            mode:'cors',\r\n            headers: { \r\n                \"Content-type\": \"application/json; charset=UTF-8\",\r\n            },\r\n            body: JSON.stringify({\r\n                    ...post\r\n                })\r\n        };\r\n        fetch(urlApi+'/post/createPost', requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                const res = {data};\r\n                dispatch(new_Post(res));\r\n            })\r\n            .catch((e)=>{\r\n                \r\n                console.log(e);\r\n            });\r\n           \r\n        } catch{\r\n        dispatch(set_Loading(false));\r\n        console.log('Error!');\r\n    }\r\n        \r\n} \r\n\r\nexport const EditPost = (post)=>async (dispatch) =>\r\n{\r\n    try {\r\n        try {\r\n            post.author=\"tesast@mail.com\";\r\n            post.location ={};\r\n            const requestOptions = {\r\n                method: 'patch',\r\n                mode:'cors',\r\n                headers: { \r\n                    \"Content-type\": \"application/json; charset=UTF-8\",\r\n                },\r\n                body: JSON.stringify({\r\n                        ...post\r\n                })\r\n            };\r\n            \r\n            fetch(urlApi+'/post/updatePost', requestOptions)\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    const res = {data};\r\n                    dispatch(edit_Post(res));\r\n                })\r\n                .catch((e)=>{\r\n                    console.log(e);\r\n                });\r\n               \r\n            } catch{\r\n            dispatch(set_Loading(false));\r\n            console.log('Error!');\r\n        }\r\n    } catch{\r\n        console.log('Error!');\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}